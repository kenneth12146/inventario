 <!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel Administrador - Sistema POS Profesional</title>
  <link rel="shortcut icon" href="img/logo.png" />

  <!-- LibrerÃ­a para grÃ¡ficas -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  
  <!-- LibrerÃ­a para exportar Excel -->
  <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
  
  <!-- LibrerÃ­a para exportar PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  
  <!-- Estilos CSS del Panel Admin -->
  <link rel="stylesheet" href="./css/dashboard_admin.css">
  
  <style>
    /* Estilos especÃ­ficos para el logo en topbar */
    .topbar-logo-container {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 8px 15px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
      transition: all 0.3s ease;
    }
    
    .topbar-logo-container:hover {
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
      transform: translateY(-2px);
    }
    
    #logoNegocioTopbar {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      object-fit: cover;
      border: 3px solid rgba(255, 255, 255, 0.9);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      display: none;
      transition: all 0.3s ease;
    }
    
    #logoNegocioTopbar:hover {
      transform: scale(1.05);
      border-color: #fff;
    }
    
    .topbar-logo-placeholder {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      border: 3px solid rgba(255, 255, 255, 0.9);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }
    
    .topbar-negocio-info {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }
    
    #nombreNegocio {
      font-size: 18px;
      font-weight: 700;
      color: #ffffff;
      margin: 0;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      letter-spacing: 0.5px;
    }
    
    .topbar-negocio-label {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.85);
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
  </style>
</head>
<body>
  
  <!-- ========== BARRA LATERAL ========== -->
  <aside class="sidebar">
    <!-- Encabezado con informaciÃ³n del usuario -->
    <div class="sidebar-header">
      <div class="user-info">
        <img src="inventario-main/img/logo.png" alt="">
        <div>
          <div style="font-weight: 600; font-size: 16px;" id="nombreUsuario">Administrador</div>
          <div style="font-size: 12px; opacity: 0.8;">Panel de Control</div>
        </div>
      </div>
    </div>
    
    <!-- MenÃº de navegaciÃ³n -->
    <ul class="sidebar-menu">
      <li><a href="#" class="active" data-section="dashboard">ğŸ“Š Dashboard</a></li>
      <li><a href="#" data-section="productos">ğŸ“¦ Productos</a></li>
      <li><a href="#" data-section="categorias">ğŸ·ï¸ CategorÃ­as</a></li>
      <li><a href="#" data-section="ventas">ğŸ’° Ventas</a></li>
      <li><a href="#" data-section="devoluciones">ğŸ”„ Devoluciones</a></li>
      <li><a href="#" data-section="clientes">ğŸ‘¥ Clientes</a></li>
      <li><a href="#" data-section="reportes">ğŸ“ˆ Reportes</a></li>
      <li><a href="#" data-section="alertas">ğŸ”” Alertas</a></li>
      <li><a href="#" data-section="usuarios">ğŸ‘¥ Usuarios</a></li>
      <li><a href="#" data-section="configuracion">âš™ï¸ ConfiguraciÃ³n</a></li>
      <li><a href="#" id="btnCerrarSesion">ğŸšª Cerrar SesiÃ³n</a></li>
    </ul>
  </aside>


  <!-- ========== CONTENIDO PRINCIPAL ========== -->
  <div class="main-content">
    
    <!-- ========== BARRA SUPERIOR CON LOGO MEJORADO ========== -->
    <div class="topbar">
      <div class="breadcrumb">
        <span>Panel de Control</span> / <span id="currentSection">Dashboard</span>
      </div>
      
      <!-- âœ¨ LOGO DEL NEGOCIO - MEJORADO âœ¨ -->
      <div class="topbar-logo-container">
        <img id="logoNegocioTopbar" src="" alt="Logo del Negocio">
        <div class="topbar-logo-placeholder" id="logoPlaceholderTopbar">ğŸª</div>
        <div class="topbar-negocio-info">
          <span class="topbar-negocio-label">Mi Negocio</span>
          <strong id="nombreNegocio">Cargando...</strong>
        </div>
      </div>
    </div>


    <!-- Mensajes de Ã©xito y error -->
    <div id="successMsg" class="message success"></div>
    <div id="errorMsg" class="message error"></div>


    <!-- ========== SECCIÃ“N: DASHBOARD ========== -->
    <div class="section-content active" id="section-dashboard">
      
      <!-- Tarjetas de estadÃ­sticas principales -->
      <div class="stats-grid">

        <!-- Ventas del dÃ­a (NUEVA) -->
<div class="stat-card blue">
  <div class="icon">ğŸ“…</div>
  <h4>Ventas del DÃ­a</h4>
  <div class="value" id="statVentasHoy">$0</div>
  <div class="trend">Hoy</div>
</div>

        <!-- Ventas del mes -->
        <div class="stat-card green">
          <div class="icon">ğŸ’°</div>
          <h4>Ventas del Mes</h4>
          <div class="value" id="statVentasMes">$0</div>
          <div class="trend">â†‘ +15% vs mes anterior</div>
        </div>
        
        <!-- Productos en stock -->
        <div class="stat-card">
          <div class="icon">ğŸ“¦</div>
          <h4>Productos en Stock</h4>
          <div class="value" id="statProductos">0</div>
          <div class="trend">Total de productos</div>
        </div>
        
        <!-- Stock bajo -->
        <div class="stat-card orange">
          <div class="icon">âš ï¸</div>
          <h4>Stock Bajo</h4>
          <div class="value" id="statStockBajo">0</div>
          <div class="trend">Requieren atenciÃ³n</div>
        </div>
        
        <!-- Clientes activos -->
        <div class="stat-card purple">
          <div class="icon">ğŸ‘¥</div>
          <h4>Clientes Activos</h4>
          <div class="value" id="statClientes">0</div>
          <div class="trend">Este mes</div>
        </div>
      </div>


      <!-- Alerta de productos con stock bajo -->
      <div id="alertasStockBajo" style="display: none;">
        <div class="alert-box">
          <h4 style="margin-bottom: 15px;">âš ï¸ Productos con Stock Bajo</h4>
          <div id="alertasLista"></div>
        </div>
      </div>


      <!-- GrÃ¡ficas superiores -->
      <div class="charts-grid">
        <!-- GrÃ¡fica de ventas Ãºltimos 7 dÃ­as -->
        <div class="chart-container">
          <h4 style="margin-bottom: 15px;">ğŸ“ˆ Ventas de los Ãšltimos 7 DÃ­as</h4>
          <canvas id="chartVentas"></canvas>
        </div>
        
        <!-- GrÃ¡fica de productos mÃ¡s vendidos -->
        <div class="chart-container">
          <h4 style="margin-bottom: 15px;">ğŸ† Top 5 Productos MÃ¡s Vendidos</h4>
          <canvas id="chartTopProductos"></canvas>
        </div>
      </div>


      <!-- GrÃ¡ficas inferiores -->
      <div class="charts-grid">
        <!-- GrÃ¡fica de mÃ©todos de pago -->
        <div class="chart-container">
          <h4 style="margin-bottom: 15px;">ğŸ’³ MÃ©todos de Pago</h4>
          <canvas id="chartMetodosPago"></canvas>
        </div>
        
        <!-- GrÃ¡fica de ventas por categorÃ­a -->
        <div class="chart-container">
          <h4 style="margin-bottom: 15px;">ğŸ“Š Ventas por CategorÃ­a</h4>
          <canvas id="chartCategorias"></canvas>
        </div>
      </div>
    </div>


    <!-- ========== SECCIÃ“N: PRODUCTOS ========== -->
    <div class="section-content" id="section-productos">
      <div class="card">
        <h3>ğŸ“¦ GestiÃ³n de Productos</h3>
        
        <!-- Botones de acciÃ³n -->
        <div class="action-buttons">
          <button class="btn btn-success" onclick="abrirModalProducto()">
            â• Nuevo Producto
          </button>
          <button class="btn btn-primary" onclick="exportarProductosExcel()">
            ğŸ“Š Exportar Excel
          </button>
          <button class="btn btn-danger" onclick="exportarProductosPDF()">
            ğŸ“„ Exportar PDF
          </button>
        </div>


        <!-- Barra de bÃºsqueda -->
        <div class="search-bar">
          <input type="text" id="buscarProducto" placeholder="Buscar productos por nombre o cÃ³digo...">
        </div>


        <!-- Tabla de productos -->
        <table id="tablaProductos">
          <thead>
            <tr>
              <th>Imagen</th>
              <th>CÃ³digo</th>
              <th>Nombre</th>
              <th>CategorÃ­a</th>
              <th>Precio Compra</th>
              <th>Precio Venta</th>
              <th>Stock</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <!-- Los productos se cargan dinÃ¡micamente aquÃ­ -->
          </tbody>
        </table>
      </div>
    </div>


    <!-- ========== SECCIÃ“N: CATEGORÃAS ========== -->
    <div class="section-content" id="section-categorias">
      <div class="card">
        <h3>ğŸ·ï¸ GestiÃ³n de CategorÃ­as</h3>
        
        <!-- BotÃ³n para agregar categorÃ­a -->
        <div class="action-buttons">
          <button class="btn btn-success" onclick="abrirModalCategoria()">
            â• Nueva CategorÃ­a
          </button>
        </div>


        <!-- Grid de categorÃ­as -->
        <div id="categoriasGrid" class="categorias-grid-custom"></div>
      </div>
    </div>


    <!-- ========== SECCIÃ“N: VENTAS ========== -->
    <div class="section-content" id="section-ventas">
      <div class="card">
        <h3>ğŸ’° Historial de Ventas</h3>
        
        <!-- Botones de exportaciÃ³n -->
        <div class="action-buttons">
          <button class="btn btn-primary" onclick="exportarVentasExcel()">
            ğŸ“Š Exportar Excel
          </button>
          <button class="btn btn-danger" onclick="exportarVentasPDF()">
            ğŸ“„ Exportar PDF
          </button>
        </div>


        <!-- Barra de bÃºsqueda -->
        <div class="search-bar">
          <input type="text" id="buscarVenta" placeholder="Buscar ventas...">
        </div>


        <!-- Tabla de ventas -->
        <table id="tablaVentas">
          <thead>
            <tr>
              <th>ID</th>
              <th>Fecha</th>
              <th>Cliente</th>
              <th>Total</th>
              <th>MÃ©todo</th>
              <th>Usuario</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <!-- Las ventas se cargan dinÃ¡micamente aquÃ­ -->
          </tbody>
        </table>
      </div>
    </div>


    <!-- ========== SECCIÃ“N: DEVOLUCIONES (NUEVA) ========== -->
    <div class="section-content" id="section-devoluciones">
      <div class="card">
        <h3>ğŸ”„ Historial de Devoluciones</h3>
        
        <!-- Tabla de devoluciones -->
        <table id="tablaDevoluciones">
          <thead>
            <tr>
              <th>ID Venta</th>
              <th>Fecha DevoluciÃ³n</th>
              <th>Cliente</th>
              <th>Productos</th>
              <th>Monto</th>
              <th>Motivo</th>
              <th>Usuario</th>
            </tr>
          </thead>
          <tbody>
            <!-- Las devoluciones se cargan dinÃ¡micamente aquÃ­ -->
          </tbody>
        </table>
      </div>
    </div>


    <!-- ========== SECCIÃ“N: REPORTES ========== -->
    <div class="section-content" id="section-reportes">
      <div class="card">
        <h3>ğŸ“ˆ Reportes Avanzados</h3>
        
        <!-- Filtros de reporte -->
        <div class="form-grid">
          <div class="form-group">
            <label>Tipo de Reporte:</label>
            <select id="tipoReporte">
              <option value="ventas">Ventas por PerÃ­odo</option>
              <option value="productos">Productos MÃ¡s Vendidos</option>
              <option value="rentabilidad">Rentabilidad</option>
              <option value="cajeros">DesempeÃ±o de Cajeros</option>
              <option value="inventario">Estado de Inventario</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Fecha Inicio:</label>
            <input type="date" id="fechaInicio">
          </div>
          
          <div class="form-group">
            <label>Fecha Fin:</label>
            <input type="date" id="fechaFin">
          </div>
        </div>


        <!-- Botones de acciÃ³n de reportes -->
        <div class="action-buttons">
          <button class="btn btn-primary" onclick="generarReporte()">
            ğŸ“Š Generar Reporte
          </button>
          <button class="btn btn-success" onclick="exportarReporteExcel()">
            ğŸ“¥ Descargar Excel
          </button>
          <button class="btn btn-danger" onclick="exportarReportePDF()">
            ğŸ“¥ Descargar PDF
          </button>
        </div>


        <!-- Contenedor de resultados -->
        <div id="resultadoReporte" style="margin-top: 30px;"></div>
      </div>
    </div>


    <!-- ========== SECCIÃ“N: ALERTAS ========== -->
    <div class="section-content" id="section-alertas">
      <div class="card">
        <h3>ğŸ”” Sistema de Alertas</h3>
        
        <!-- Alerta de stock crÃ­tico -->
        <div class="alert-box">
          <h4>Productos con Stock CrÃ­tico (â‰¤ 5 unidades)</h4>
          <div id="alertasStockCritico"></div>
        </div>


        <!-- Productos sin movimiento -->
        <div class="card" style="margin-top: 20px;">
          <h4>ğŸ“Š Productos Sin Movimiento (Ãºltimos 30 dÃ­as)</h4>
          <div id="productosSinMovimiento"></div>
        </div>


        <!-- Productos mÃ¡s rentables -->
        <div class="card" style="margin-top: 20px;">
          <h4>ğŸ’° Productos MÃ¡s Rentables</h4>
          <div id="productosRentables"></div>
        </div>
      </div>
    </div>



    <!-- ========== SECCIÃ“N: CLIENTES ========== -->
    <div class="section-content" id="section-clientes">
      <div class="card">
        <h3>ğŸ‘¥ GestiÃ³n de Clientes</h3>

        <!-- Botones de acciÃ³n -->
        <div class="action-buttons">
          <button class="btn btn-success" onclick="abrirModalCliente()">â• Nuevo Cliente</button>
          <button class="btn btn-primary" onclick="exportarClientesExcel()">ğŸ“¥ Exportar Excel</button>
        </div>

        <!-- EstadÃ­sticas de clientes -->
        <div class="stats-grid" style="margin: 20px 0;">
          <div class="stat-card blue">
            <div class="icon">ğŸ‘¥</div>
            <h4>Total Clientes</h4>
            <div class="value" id="statTotalClientes">0</div>
          </div>
          <div class="stat-card green">
            <div class="icon">ğŸ›’</div>
            <h4>Clientes Activos</h4>
            <div class="value" id="statClientesActivos">0</div>
            <div class="trend">Este mes</div>
          </div>
          <div class="stat-card purple">
            <div class="icon">â­</div>
            <h4>Cliente Top</h4>
            <div class="value" style="font-size: 16px" id="statClienteTop">-</div>
          </div>
        </div>

        <!-- Barra de bÃºsqueda -->
        <div class="search-bar">
          <input type="text" id="buscarCliente" placeholder="ğŸ” Buscar clientes por nombre o telÃ©fono...">
        </div>

        <!-- Tabla de clientes -->
        <table id="tablaClientes">
          <thead>
            <tr>
              <th>CÃ©dula</th>
              <th>Nombre</th>
              <th>TelÃ©fono</th>
              <th>Email</th>
              <th>Total Compras</th>
              <th>Total Gastado</th>
              <th>Ãšltima Compra</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <!-- Los clientes se cargan dinÃ¡micamente aquÃ­ -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- ========== SECCIÃ“N: USUARIOS ========== -->
    <div class="section-content" id="section-usuarios">
      <div class="card">
        <h3>ğŸ‘¥ GestiÃ³n de Usuarios</h3>
        
        <!-- BotÃ³n para agregar usuario -->
        <div class="action-buttons">
          <button class="btn btn-success" onclick="abrirModalUsuario()">
            â• Nuevo Usuario
          </button>
        </div>


        <!-- Tabla de usuarios -->
        <table id="tablaUsuarios">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Email</th>
              <th>Rol</th>
              <th>Estado</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <!-- Los usuarios se cargan dinÃ¡micamente aquÃ­ -->
          </tbody>
        </table>
      </div>
    </div>


    <!-- ========== SECCIÃ“N: CONFIGURACIÃ“N ========== -->
    <div class="section-content" id="section-configuracion">
      <div class="card">
        <h3>âš™ï¸ ConfiguraciÃ³n del Negocio</h3>
        
        <!-- Formulario de configuraciÃ³n -->
        <form id="formConfiguracion">
          <div class="form-grid">
            <div class="form-group">
              <label>Nombre del Negocio:</label>
              <input type="text" id="configNombre" required>
            </div>
            
            <div class="form-group">
              <label>NIT/RUC:</label>
              <input type="text" id="configNit">
            </div>
            
            <div class="form-group">
              <label>TelÃ©fono:</label>
              <input type="tel" id="configTelefono">
            </div>
            
            <div class="form-group">
              <label>Email:</label>
              <input type="email" id="configEmail">
            </div>
            
            <div class="form-group">
              <label>DirecciÃ³n:</label>
              <input type="text" id="configDireccion">
            </div>
            
            <div class="form-group">
              <label>Ciudad:</label>
              <input type="text" id="configCiudad">
            </div>
          </div>


          <!-- SecciÃ³n de logo -->
          <div class="form-group">
            <label>Logo del Negocio:</label>
            <div class="img-upload-container">
              <div class="img-preview-box">
                <img id="logoPreview" class="img-preview" src="" alt="Logo" style="display: none;">
                <span id="logoPlaceholder">ğŸ“· Sin logo</span>
              </div>
              <div>
                <input type="file" id="logoInput" accept="image/*" style="display: none;">
                <button type="button" class="btn btn-primary" onclick="document.getElementById('logoInput').click()">
                  ğŸ“ Seleccionar Logo
                </button>
                <p style="font-size: 12px; color: #7f8c8d; margin-top: 5px;">TamaÃ±o recomendado: 200x200px</p>
              </div>
            </div>
          </div>


          <!-- BotÃ³n guardar configuraciÃ³n -->
          <button type="submit" class="btn btn-success">
            ğŸ’¾ Guardar ConfiguraciÃ³n
          </button>
        </form>


        <!-- Separador -->
        <hr style="margin: 40px 0; border: none; border-top: 1px solid #ecf0f1;">


        <!-- Herramientas avanzadas -->
        <h4 style="margin-bottom: 20px;">ğŸ”§ Herramientas Avanzadas</h4>
        
        <div class="action-buttons">
          <button class="btn btn-warning" onclick="exportarBackup()">
            ğŸ’¾ Backup Completo
          </button>
          <button class="btn btn-primary" onclick="importarBackup()">
            ğŸ“¥ Restaurar Backup
          </button>
          <button class="btn btn-danger" onclick="limpiarDatos()">
            ğŸ—‘ï¸ Limpiar Datos de Prueba
          </button>
        </div>
      </div>
    </div>
  </div>


  <!-- ========== MODALES ========== -->
  
  <!-- Modal: Agregar/Editar Producto -->
  <div id="modalProducto" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="tituloModalProducto">Nuevo Producto</h3>
        <button class="close-modal" onclick="cerrarModal('modalProducto')">&times;</button>
      </div>
      
      <form id="formProducto">
        <input type="hidden" id="productoId">
        
        <!-- Imagen del producto -->
        <div class="form-group">
          <label>Imagen del Producto:</label>
          <div class="img-upload-container">
            <div class="img-preview-box">
              <img id="productoImgPreview" class="img-preview" src="" alt="Producto" style="display: none;">
              <span id="productoImgPlaceholder">ğŸ“· Sin imagen</span>
            </div>
            <div>
              <input type="file" id="productoImgInput" accept="image/*" style="display: none;">
              <button type="button" class="btn btn-primary btn-sm" onclick="document.getElementById('productoImgInput').click()">
                ğŸ“ Seleccionar Imagen
              </button>
            </div>
          </div>
        </div>


        <!-- Campos del producto -->
        <div class="form-grid">
          <div class="form-group">
            <label>CÃ³digo:</label>
            <input type="text" id="productoCodigo" required>
          </div>
          
          <div class="form-group">
            <label>Nombre:</label>
            <input type="text" id="productoNombre" required>
          </div>
          
          <div class="form-group">
            <label>CategorÃ­a:</label>
            <select id="productoCategoria" required></select>
          </div>
          
          <div class="form-group">
            <label>Precio de Compra:</label>
            <input type="number" id="productoPrecioCompra" step="0.01" required>
          </div>
          
          <div class="form-group">
            <label>Precio de Venta:</label>
            <input type="number" id="productoPrecioVenta" step="0.01" required>
          </div>
          
          <div class="form-group">
            <label>Cantidad en Stock:</label>
            <input type="number" id="productoCantidad" required>
          </div>
        </div>


        <!-- Botones del formulario -->
        <div style="display: flex; gap: 10px; margin-top: 25px;">
          <button type="button" class="btn btn-light" onclick="cerrarModal('modalProducto')">Cancelar</button>
          <button type="submit" class="btn btn-success" style="flex: 1;">ğŸ’¾ Guardar</button>
        </div>
      </form>
    </div>
  </div>


  <!-- Modal: Agregar CategorÃ­a -->
  <div id="modalCategoria" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Nueva CategorÃ­a</h3>
        <button class="close-modal" onclick="cerrarModal('modalCategoria')">&times;</button>
      </div>
      
      <form id="formCategoria">
        <div class="form-group">
          <label>Nombre de la CategorÃ­a:</label>
          <input type="text" id="categoriaNombre" required placeholder="Ej: Bebidas, Snacks, etc.">
        </div>


        <!-- Botones del formulario -->
        <div style="display: flex; gap: 10px; margin-top: 25px;">
          <button type="button" class="btn btn-light" onclick="cerrarModal('modalCategoria')">Cancelar</button>
          <button type="submit" class="btn btn-success" style="flex: 1;">ğŸ’¾ Guardar</button>
        </div>
      </form>
    </div>
  </div>


  <!-- Modal: Agregar/Editar Usuario -->
  <div id="modalUsuario" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Nuevo Usuario</h3>
        <button class="close-modal" onclick="cerrarModal('modalUsuario')">&times;</button>
      </div>
      
      <form id="formUsuario">
        <input type="hidden" id="usuarioId">
        
        <div class="form-group">
          <label>Nombre Completo:</label>
          <input type="text" id="usuarioNombre" required placeholder="Juan PÃ©rez">
        </div>
        
        <div class="form-group">
          <label>Email:</label>
          <input type="email" id="usuarioEmail" required placeholder="usuario@ejemplo.com">
        </div>
        
        <!-- Campo de contraseÃ±a -->
        <div class="form-group">
          <label>ContraseÃ±a:</label>
          <input type="password" id="usuarioPassword" required placeholder="MÃ­nimo 6 caracteres" minlength="6">
          <p style="font-size: 11px; color: #7f8c8d; margin-top: 5px;">
            La contraseÃ±a debe tener al menos 6 caracteres
          </p>
        </div>
        
        <div class="form-group">
          <label>Rol:</label>
          <select id="usuarioRol" required>
            <option value="cajero">Cajero</option>
            <option value="vendedor">Vendedor</option>
            <option value="admin">Administrador</option>
          </select>
        </div>


        <!-- Botones del formulario -->
        <div style="display: flex; gap: 10px; margin-top: 25px;">
          <button type="button" class="btn btn-light" onclick="cerrarModal('modalUsuario')">Cancelar</button>
          <button type="submit" class="btn btn-success" style="flex: 1;">ğŸ’¾ Crear Usuario</button>
        </div>
      </form>
    </div>
  </div>


  <!-- Modal: Detalle de Venta -->
  <div id="modalDetalleVenta" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Detalle de Venta</h3>
        <button class="close-modal" onclick="cerrarModal('modalDetalleVenta')">&times;</button>
      </div>
      
      <!-- El contenido se carga dinÃ¡micamente -->
      <div id="detalleVentaContenido"></div>
    </div>
  </div>


  <!-- ========== SCRIPTS ========== -->
  <script type="module" src="./js/firebase.js"></script>
  <script src="./js/utils.js"></script>
  <script src="./js/auth.js"></script>
  <script src="./js/negocio.js"></script>
  <script src="./js/storage.js"></script>
  <script src="./js/dashboard_admin.js"></script>

  <!-- Modal Agregar/Editar Cliente -->
  <div id="modalCliente" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="tituloModalCliente">Nuevo Cliente</h3>
        <button class="close-modal" onclick="cerrarModal('modalCliente')">&times;</button>
      </div>
      <form id="formCliente">
        <input type="hidden" id="clienteId">

        <div class="form-group">
          <label>Nombre Completo *</label>
          <input type="text" id="clienteNombreModal" required placeholder="Juan PÃ©rez">
        </div>

        <div class="form-group">
          <label>CÃ©dula / ID *</label>
          <input type="text" id="clienteCedulaModal" required placeholder="1234567890">
        </div>

        <div class="form-group">
          <label>TelÃ©fono *</label>
          <input type="tel" id="clienteTelefonoModal" placeholder ="+57 300 123 4567">
        </div>

        <div class="form-group">
          <label>Email</label>
          <input type="email" id="clienteEmailModal" placeholder="cliente@ejemplo.com">
        </div>

        <div class="form-group">
          <label>DirecciÃ³n</label>
          <input type="text" id="clienteDireccionModal" placeholder="Calle 123 #45-67">
        </div>

        <div class="form-group">
          <label>Notas</label>
          <textarea id="clienteNotasModal" rows="3" placeholder="InformaciÃ³n adicional del cliente..."></textarea>
        </div>

        <!-- Botones -->
        <div style="display: flex; gap: 10px; margin-top: 25px;">
          <button type="button" class="btn btn-light" onclick="cerrarModal('modalCliente')">Cancelar</button>
          <button type="button" class="btn btn-success" style="flex: 1;" onclick="guardarCliente()">Guardar Cliente</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal Historial de Cliente -->
  <div id="modalHistorialCliente" class="modal">
    <div class="modal-content" style="max-width: 900px;">
      <div class="modal-header">
        <h3 id="tituloHistorialCliente">Historial de Cliente</h3>
        <button class="close-modal" onclick="cerrarModal('modalHistorialCliente')">&times;</button>
      </div>

      <!-- InformaciÃ³n del cliente -->
      <div id="infoClienteHistorial" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
        <!-- Se carga dinÃ¡micamente -->
      </div>

      <!-- Tabla de compras -->
      <h4 style="margin-bottom: 15px;">ğŸ“¦ Historial de Compras</h4>
      <table id="tablaHistorialCompras">
        <thead>
          <tr>
            <th>Fecha</th>
            <th>ID Venta</th>
            <th>Productos</th>
            <th>Total</th>
            <th>MÃ©todo</th>
          </tr>
        </thead>
        <tbody>
          <!-- Se carga dinÃ¡micamente -->
        </tbody>
      </table>
    </div>
  </div>


</body>
</html>